(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{45301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(96467)}])},96467:function(n,e,t){"use strict";t.r(e),t.d(e,{Pixelbots:function(){return v},default:function(){return x}});var r=t(85893),o=t(67294),i=t(27680),a=t(2922),l=(0,a.QM)({grid:{display:"grid",gridTemplateRows:"repeat(32, 1fr)",gridTemplateColumns:"repeat(32, 1fr)",width:"50vmin",height:"50vmin"},cell:{cursor:"pointer",border:".5px solid black",background:"white",transition:"all 200ms linear","&:hover":{transform:"scale(1.1)"}}}),u={on:!1,color:"#000000"},c=function(n){var e=n.currentColor,t=n.cells,o=n.setCells,i=l(),a=function(n){return function(r){r.preventDefault(),1!==r.buttons&&2!==r.buttons||o(t.map((function(t,o){return o===n?1===r.buttons?{on:!0,color:e}:u:t})))}};return(0,r.jsx)("div",{id:"my-node",className:i.grid,children:t.map((function(n,e){return(0,r.jsx)("div",{style:{background:n.on?n.color:"#ffffff"},className:i.cell,onMouseOver:a(e),onMouseDown:a(e),onContextMenu:function(n){return n.preventDefault()}},e)}))})},s=(0,a.QM)({colorPicker:{margin:"1rem",padding:0,width:"50px",height:"50px",outline:"none",border:"none",cursor:"pointer"}}),d=function(n){var e=n.currentColor,t=n.onSetColor,o=s();return(0,r.jsx)("input",{className:o.colorPicker,type:"color",value:e,onChange:function(n){t(n.target.value)}})},f=t(29306),h=t.n(f);function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function p(n){return function(n){if(Array.isArray(n))return m(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return m(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g={on:!1,color:"#000000"},y=Array.from({length:1764},(function(){return g})),v=function(n){var e=(0,o.useState)(y),t=e[0],a=e[1],l=(0,o.useState)(!1),u=l[0],s=l[1],f=(0,o.useState)("#0FD698"),m=f[0],g=f[1],v=(0,o.useMemo)((function(){return p(Array.from(new Set(t.filter((function(n){return n.on})).map((function(n){return n.color})))))}),[t]),x=((0,o.useMemo)((function(){return t.map((function(n){return n.color.slice(1)})).join(",")}),[t]),function(){s(!0);for(var n=document.getElementById("my-node"),e=document.getElementById("my-collection"),t=n.children,r=0;r<t.length;r++)t[r].style.border="none";h().toPng(n).then((function(n){var r=function(n){var e="undefined"==typeof n.naturalWidth?n.width:n.naturalWidth,t="undefined"==typeof n.naturalHeight?n.height:n.naturalHeight,r=i.getImageData(0,0,e,t);console.log("imageData.widt",r.width),console.log("imageData.height",r.height);for(var o=0;o<r.width;o++)for(var l=0;l<r.height;l++){var u=4*(l*r.width+o),c=r.data[u],s=r.data[u+1],d=r.data[u+2];255==c&&255==s&&255==d&&(r.data[u+3]=0),r.data[u]=0}return i.putImageData(r,0,0),a},o=null,i=null,a=new Image;a.src=n,a.onload=function(){!function(n){o=document.createElement("canvas");var e="undefined"==typeof n.naturalWidth?n.width:n.naturalWidth,t="undefined"==typeof n.naturalHeight?n.height:n.naturalHeight;o.id="img1",o.width=e,o.height=t,(i=o.getContext("2d")).clearRect(0,0,e,t),i.drawImage(n,0,0),r(n)}(a),console.log("image",a);var n=o.toDataURL("image/png"),t=new Image;t.src=n,e.appendChild(t)};for(var l=0;l<t.length;l++)t[l].style.border=".5px solid black";s(!1)})).catch((function(n){console.error("oops, something went wrong!",n),s(!1)}))});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.Section,{children:[(0,r.jsx)(i.SectionHeader,{title:"Pixelbots",subtitle:"Alpha Testing Live Now!"}),(0,r.jsxs)(i.Container,{maxWidth:"md",children:[(0,r.jsx)(i.Typography,{variant:"body2",align:"center",sx:{pb:6},children:"Attention: This a very early test and we will reset the chain somethimes."}),(0,r.jsx)(i.Typography,{variant:"body1",align:"center",sx:{pb:6},children:"Be creative!"})]}),(0,r.jsx)(i.Container,{maxWidth:"md",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(d,{currentColor:m,onSetColor:g}),(0,r.jsx)("div",{style:{display:"flex"},children:v.map((function(n){return(0,r.jsx)("div",{onClick:function(){return g(n)},style:{background:n,margin:"0.5rem",padding:0,width:"25px",height:"25px",outline:"none",border:"none",cursor:"pointer"}},n)}))}),(0,r.jsx)(c,{cells:t,setCells:a,currentColor:m}),(0,r.jsxs)("p",{style:{maxWidth:"50%",fontFamily:"monospace",wordWrap:"break-word"},children:[(0,r.jsx)(i.Button,{disabled:u,onClick:function(){return x()},children:"Save"}),(0,r.jsx)(i.Button,{disabled:u,onClick:function(){return function(){console.log("save_as_json");var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),e=document.getElementById("downloadAnchorElem");e.setAttribute("href",n),e.setAttribute("download","pixelbot.json"),e.click()}()},children:"save_as_json"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{id:"my-collection"}),(0,r.jsx)("a",{id:"downloadAnchorElem",style:{display:"none"}}),(0,r.jsx)("input",{id:"input"}),(0,r.jsx)(i.Button,{disabled:u,onClick:function(){return function(){var n=document.getElementById("input");a(JSON.parse(n.value))}()},children:"apply"})]})]})})]})})},x=v}},function(n){n.O(0,[409,774,888,179],(function(){return e=45301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);